---
import * as resume from "../content/resume.md"
import "../styles/resume.css"
import { ResumeToast } from "../components/ResumeToast"

export const prerender = true

const { Content } = resume
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.png" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <meta name="robots" content="noindex, nofollow" />
    <title>Josef's Resume</title>
  </head>
  <body>
    <ResumeToast client:load />
    <article class="mx-auto py-4 px-2 md:px-0">
      <h1 class="text-center mb-2">{resume.frontmatter.author}</h1>
      <div
        id="contact-info"
        class:list={[
          "text-left flex flex-col gap-2 text-sm",
          "md:text-center md:justify-center md:flex-row md:flex-wrap md:items-center md:gap-x-2",
        ]}
      >
        <a href={`mailto:${resume.frontmatter.email}`}>
          {resume.frontmatter.email}
        </a>
        <span class="hidden md:inline">|</span>
        <a href={resume.frontmatter.website}>
          {resume.frontmatter.website.replace(/^https\:\/\//, "")}
        </a>
        <span class="hidden md:inline">|</span>
        <a
          href={resume.frontmatter.linkedin}
          target="_blank"
          rel="noopener noreferrer"
        >
          {resume.frontmatter.linkedin.replace(/^https\:\/\//, "")}
        </a>
        <span class="hidden md:inline">|</span>
        <a
          href={resume.frontmatter.github}
          target="_blank"
          rel="noopener noreferrer"
        >
          {resume.frontmatter.github.replace(/^https\:\/\//, "")}
        </a>
      </div>
      <div class="mb-5"></div>
      <Content />
    </article>
  </body>
</html>

<style is:global>
  @reference "../styles/global.css";

  article {
    max-width: 65ch;
    font-family: Arial, sans-serif;
  }

  article h1 {
    @apply text-2xl font-bold;
  }

  article h2 {
    @apply mt-6 mb-3 text-xl font-semibold;
  }

  article h3 {
    @apply mt-4 mb-1 text-sm leading-relaxed font-semibold;
  }

  article a {
    @apply font-medium underline;
  }

  article ul {
    @apply mb-3 list-disc pl-4 text-sm leading-relaxed;
  }

  article p {
    @apply text-sm leading-relaxed;
  }

  /* Print-specific optimizations */
  @media print {
    /* Hide toast in PDF */
    [data-sonner-toaster] {
      display: none !important;
    }

    article h2 {
      @apply mt-5 mb-2.5;
    }

    article h3 {
      font-size: 10pt;
      margin-top: 14pt;
    }

    article ul {
      font-size: 10pt;
    }

    article p {
      font-size: 10pt;
    }
  }
</style>
